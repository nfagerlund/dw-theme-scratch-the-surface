## Info

layerinfo "type" = "theme";
layerinfo "name" = "Scratch the Surface (reduced)";
layerinfo author_name = "roadrunnertwice";
layerinfo lang = "en";

set layout_authors = [{"name" => "roadrunnertwice", "type" => "user"}];

## Layout Defaults

set tags_page_type = "cloud";
set entry_management_links = "text";
set comment_management_links = "text";

## Text labels

set text_skiplinks_back = "# older posts";
set text_skiplinks_forward = "# newer posts";
set text_entry_prev = "â¬…ï¸ Prev";
set text_entry_next = "Next â¡ï¸";
set text_edit_entry = "Edit";
set text_edit_tags = "Re-tag";
set text_mem_add = "Stow";
set text_tell_friend = "Share";
set text_watch_comments = "Track";
set text_unwatch_comments = "Untrack";
set text_multiform_opt_track = "Track";
set text_multiform_opt_untrack = "Untrack";
set text_module_active_entries = "Ppl are Talking";
set text_module_credit = "Wet Paint";

## module defaults overrides, in the order that they're listed in core2

set module_calendar_show = false;
set module_links_show = false;
set module_syndicate_order = 7;
set module_tags_show = false;
set module_tags_order = 16;
set module_pagesummary_show = false;
set module_pagesummary_order = 22;
set module_time_show = false;
set module_poweredby_show = false;
set module_customtext_show = true;
set module_customtext_order = 5;
set module_credit_section = "one";
set module_search_order = 4;
set module_cuttagcontrols_order = 6;

## Colors

### Page

set color_page_background = "#FFD19F";
set color_page_text = "#3f3f3f";
set color_footer_background = "#fc915c";
set color_header_background = "#fc915c";

set color_page_title = "#3f3f3f";

set color_page_link = "#265c92";
set color_page_link_hover = "#5452FF";
set color_page_link_visited = "#7244C8";

### Control strip

set custom_control_strip_colors = "on_no_gradient";
set control_strip_bgcolor = "#626d8b";
set control_strip_fgcolor = "#fff";
set control_strip_bordercolor = "#626d8b";
set control_strip_linkcolor = "#fc7f3f";

### Entries

set color_entry_background = "#fff";
set color_entry_text = "#3f3f3f";

#### (oranges)

set color_entry_border = "#fc7f3f";
set color_entry_title = "#ec5d25";
set color_entry_title_background = "#ffdfbf";

# set color_entry_link = "#fc7f3f";
# set color_entry_link_active = "#b3592d";
# set color_entry_link_hover = "#fc5603";
# set color_entry_link_visited = "#d66424";

### Modules

set color_module_background = "#fff";
set color_module_text = "#3f3f3f";

#### (greens)

set color_module_border = "#3b7819";
set color_module_title = "#3b7819";
set color_module_title_background = "#d7e6cf";

# set color_module_link = "#3b7819";
# set color_module_link_active = "#888746";
# set color_module_link_hover = "#365b1e";
# set color_module_link_visited = "#7a9241";


## Add helpful nav to the header

function Page::print_header()
{
    # The bit from core2:
    $this->print_global_title();
    $this->print_global_subtitle();
    $this->print_title();

    # The bit from me:
    # Optional list of emoji to jump places goes here, use CSS to hide on non-mobile
    var string module_jump_id;
    if ($*layout_type == "one-column-split") {
        $module_jump_id = "#tertiary";
    } else {
        $module_jump_id = "#secondary";
    }
"""
<ul id="scratch-micro-nav">
<li><a href="$this.view_url{"recent"}" title="recent">ğŸ“œ</a></li>
<li><a href="$this.view_url{"read"}" title="read">ğŸ‘¯â€â™€ï¸</a></li>
<li><a href="$this.view_url{"network"}" title="network">ğŸŒ</a></li>
<li><a href="$this.view_url{"userinfo"}" title="userinfo">ğŸ¤·ğŸ½â€â™€ï¸</a></li>
<li><a href="$module_jump_id" title="Jump to Links/Navs">ğŸ”œ</a></li>
</ul>
""";
}



### Stylesheet

function Page::print_theme_stylesheet() {

    # ~~~~ IDEK:
    var string rectangle_spacing = ".9rem";
    var string rectangle_radius = ".3rem";
    var string breathing_room_full = ".6rem";
    var string breathing_room_half = ".3rem";
    var string breathing_room_double = "1.2rem";
    var string medium_media_query = generate_medium_media_query();


    # Return the actual CSS:

"""
/* ~~ Scratch the Surface =) ~~ */

/* --- Micro-nav emojis: should only appear on mobile or one-column --- */

#scratch-micro-nav {
    list-style: none;
    margin: 0;
    padding: 0;
    text-align: center;
}

#scratch-micro-nav > li {
    display: inline;
    margin: $breathing_room_half;
}

#scratch-micro-nav a {
    text-decoration: none;
}

@media $medium_media_query {
    .multiple-columns #scratch-micro-nav {
        display: none;
    }
}








/*--- Entries and comments ---*/


.entry,
.comment,
.page-tags .tags-container {
    background-color: $*color_entry_title_background;
}

.comment,
.page-tags .tags-container {
    border-color: $*color_entry_border;
}


.entry   .footer,
.comment .footer,
.page-tags .tags-container .footer {
    border-color: $*color_entry_border;
}

.entry   .header,
.comment .header,
.page-tags .tags-container .header {
    border-color: $*color_entry_border;
}



h3.entry-title   a,
h4.comment-title a {
    color: $*color_entry_title;
}

.page-tags .tags-container .header h2 {
    color: $*color_entry_title;
}


.entry-content   hr,
.comment-content hr {
    border-color: $*color_entry_border;
}

.entry-content   blockquote,
.comment-content blockquote {
    border-color: $*color_entry_border;
}


/*--- Archive Page ---*/

.month {
    background: $*color_entry_background;
    color: $*color_entry_text;
    border: 1px solid $*color_entry_border;
    border-radius: $rectangle_radius;
    margin: 0 0 $rectangle_spacing 0;
    padding: $breathing_room_double;
}

table.month {
    border-bottom: none;
}

.month table {
    margin: auto;
    width: 100%;
}

table.month td, table.month th {
    border: 1px solid $*color_entry_border;
}

.month caption {
    display: none;
}

/* nb that this affects the "view subjects" page too */
.month h3 {
    color: $*color_entry_title;
    font-size: 1.2em;
    font-weight: normal;
}

.month th {
    background: $*color_page_background;
    color: $*color_page_text;
    border: 1px solid $*color_entry_border;
    text-align: center;
}

.month td.day {
    border: 1px solid $*color_entry_border;
    color: $*color_entry_text;
    font-weight: normal;
}

td.day {
    padding: 1em;
}

.month td.day-has-entries {
    background: $*color_page_background;
    color: $*color_page_text;
    font-weight: normal;
    text-align: left;
}

.month td.day-has-entries p {
    font-size: 1.14em;
    font-weight: bold;
    text-align: right;
}

""";
}

